# 🎮 Voxel Survivor - 게임 기획 문서 (GDD)

## 1. 게임 개요

| 항목 | 내용 |
|------|------|
| **장르** | 로그라이크 서바이벌 액션 |
| **아트 스타일** | 복셀 (Voxel) 3D |
| **플랫폼** | 웹 브라우저 |
| **기술 스택** | Three.js + JavaScript (또는 React Three Fiber) |
| **타겟 플레이 시간** | 1회 플레이 5~15분 |

### 1.1 핵심 컨셉
> "낮에는 성장하고, 밤에는 생존하라"

플레이어는 미지의 풀숲에서 생존하며, 낮 동안 자원을 수집하고 밤에는 몰려오는 몬스터로부터 살아남아야 한다. 매 런마다 얻는 코인으로 영구 강화를 하며 점점 더 깊은 날까지 생존할 수 있게 된다.

---

## 2. 게임 흐름

```
┌─────────────────────────────────────────────────────────────┐
│                        [로비/대기화면]                        │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐    │
│  │ 능력치    │  │ 아이템   │  │ 아이템   │  │ 영구     │    │
│  │ 강화     │  │ 구매     │  │ 강화     │  │ 스탯     │    │
│  │ (코인)   │  │ (코인)   │  │ (코인)   │  │ (포인트) │    │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘    │
│                      [게임 시작]                             │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                      [인게임 루프]                           │
│                                                              │
│   Day 1-2: 탐색 & 성장 (몬스터 없음)                         │
│      └─ 아티팩트 상호작용 → 경험치 획득 → 레벨업             │
│                                                              │
│   Day 3+: 생존 모드                                          │
│      └─ 몬스터 출현 → 전투 → 경험치 획득 → 레벨업           │
│      └─ 날짜↑ = 난이도↑ (몬스터 수, 강도)                   │
│                                                              │
│   레벨업 시: 4가지 선택지 중 1개 선택                        │
│      [능력치 강화] [아이템] [아이템 강화] [스킬]             │
│                                                              │
└─────────────────────────────────────────────────────────────┘
                            │
                   HP = 0 또는 자발적 종료
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                      [결과 화면]                             │
│   - 생존 일수                                                │
│   - 획득 코인                                                │
│   - 게임 플레이 경험치 → 계정 레벨업 → 포인트 획득          │
└─────────────────────────────────────────────────────────────┘
```

---

## 3. 핵심 시스템

### 3.1 시간 시스템 (Day Cycle)

| Day | 시간 | 특징 |
|-----|------|------|
| Day 1 | 60초 | 안전, 탐색 집중 |
| Day 2 | 60초 | 안전, 탐색 집중 |
| Day 3+ | 60초 | 몬스터 출현, 난이도 점진 상승 |

**맵 시야 시스템:**
- 플레이어 주변: 밝게 표시 (가시 영역)
- 나머지 영역: 안개(Fog of War) 또는 어둡게 처리
- 탐색 시 시야가 점진적으로 확장될 수 있음 (선택적)

---

### 3.2 플레이어 스탯

#### 기본 스탯
| 스탯 | 기본값 | 설명 |
|------|--------|------|
| HP | 100 | 체력, 0이 되면 게임 오버 |
| ATK | 10 | 공격력 |
| DEF | 0 | 방어력 (데미지 감소) |
| SPD | 1.0 | 이동 속도 |
| CRIT | 5% | 치명타 확률 |
| CRIT DMG | 150% | 치명타 데미지 |

#### 스탯 강화 경로

```
[인게임 레벨업]          [로비 코인 강화]         [영구 포인트 강화]
  - 일시적               - 런 시작 시 적용        - 영구 적용
  - 해당 런에만 유효      - 코인 소모              - 계정 레벨업 필요
```

---

### 3.3 경험치 & 레벨 시스템

#### 인게임 레벨 (런 내)
- 아티팩트 상호작용 → EXP 획득
- 몬스터 처치 → EXP 획득
- 레벨업 시 **4지선다** 선택:
  1. **능력치 강화**: ATK+5, DEF+3 등
  2. **아이템 획득**: 무기, 방어구, 액세서리
  3. **아이템 강화**: 보유 아이템 등급 상승
  4. **스킬 획득/강화**: 액티브/패시브 스킬

#### 계정 레벨 (메타 진행)
- 게임 종료 시 **플레이 경험치** 획득
  - 생존 일수, 처치 수, 레벨 등에 비례
- 계정 레벨업 시 **포인트** 획득
- 포인트로 **영구 스탯** 강화

---

### 3.4 재화 시스템

| 재화 | 획득 방법 | 사용처 |
|------|-----------|--------|
| **코인** | 몬스터 드랍, 게임 종료 보상 | 로비 강화, 아이템 구매 |
| **포인트** | 계정 레벨업 | 영구 스탯 강화 |
| **EXP (인게임)** | 아티팩트, 몬스터 | 인게임 레벨업 |
| **EXP (계정)** | 게임 종료 | 계정 레벨업 |

---

## 4. 맵 & 환경

### 4.1 맵 구성

```
┌─────────────────────────────────────┐
│ ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ │  ░ = 어둠 (미탐색)
│ ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ │  ▓ = 안개 (탐색됨, 시야 밖)
│ ░░░░░░░░░░▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░ │  █ = 밝음 (현재 시야)
│ ░░░░░░░░▓▓▓███████▓▓▓░░░░░░░░░░░░ │  ★ = 플레이어
│ ░░░░░░░░▓▓███████████▓▓░░░░░░░░░░ │  ◆ = 아티팩트
│ ░░░░░░░▓▓████◆█★█████▓▓░░░░░░░░░░ │  ● = 몬스터
│ ░░░░░░░░▓▓███████████▓▓░░░░░░░░░░ │
│ ░░░░░░░░▓▓▓███████▓▓▓░░░░░░░░░░░░ │
│ ░░░░░░░░░░▓▓▓▓▓▓▓░░░░░░░░░░░░░░░░ │
│ ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ │
└─────────────────────────────────────┘
```

### 4.2 아티팩트 (상호작용 오브젝트)

| 아티팩트 | 상호작용 결과 |
|----------|---------------|
| 빛나는 수정 | EXP +50 |
| 고대 상자 | 랜덤 아이템 or 코인 |
| 치유의 샘 | HP 회복 |
| 신비한 제단 | 즉시 레벨업 |
| 풀숲 | EXP +10 (다량 배치) |

---

## 5. 몬스터 시스템

### 5.1 몬스터 스폰 규칙

| Day | 스폰 수 | 몬스터 종류 |
|-----|---------|-------------|
| 1-2 | 0 | 없음 |
| 3-5 | 3-5마리 | 슬라임, 고블린 |
| 6-10 | 5-10마리 | + 늑대, 스켈레톤 |
| 11-15 | 10-15마리 | + 오크, 마법사 |
| 16+ | 15+ | + 엘리트, 보스 |

### 5.2 몬스터 종류

| 몬스터 | HP | ATK | 특징 | EXP |
|--------|-----|-----|------|-----|
| 슬라임 | 20 | 5 | 느림, 접촉 데미지 | 10 |
| 고블린 | 30 | 8 | 빠름, 근접 공격 | 15 |
| 늑대 | 40 | 12 | 매우 빠름 | 20 |
| 스켈레톤 | 50 | 10 | 원거리 공격 | 25 |
| 오크 | 100 | 20 | 느림, 높은 HP | 40 |
| 마법사 | 60 | 25 | 범위 공격 | 50 |
| **엘리트** | 200 | 30 | 특수 능력 보유 | 100 |
| **보스** | 500+ | 50 | 패턴 공격 | 300 |

### 5.3 데미지 계산

```
받는 데미지 = Monster_ATK - Player_DEF
최소 데미지 = 1 (방어력이 높아도 최소 1 데미지)
```

---

## 6. 아이템 시스템

### 6.1 아이템 등급

| 등급 | 색상 | 스탯 배율 |
|------|------|-----------|
| Common | ⬜ 흰색 | 1.0x |
| Uncommon | 🟩 녹색 | 1.3x |
| Rare | 🟦 파랑 | 1.6x |
| Epic | 🟪 보라 | 2.0x |
| Legendary | 🟨 금색 | 2.5x |

### 6.2 아이템 종류

**무기**
| 아이템 | 기본 효과 |
|--------|-----------|
| 검 | ATK +10 |
| 활 | ATK +8, 원거리 |
| 지팡이 | ATK +6, 범위 공격 |
| 단검 | ATK +5, CRIT +10% |

**방어구**
| 아이템 | 기본 효과 |
|--------|-----------|
| 가죽 갑옷 | DEF +5 |
| 철 갑옷 | DEF +10, SPD -0.1 |
| 로브 | DEF +3, 스킬 쿨다운 -10% |

**액세서리**
| 아이템 | 기본 효과 |
|--------|-----------|
| 반지 | CRIT +5% |
| 목걸이 | HP +20 |
| 부츠 | SPD +0.2 |

---

## 7. 스킬 시스템

### 7.1 액티브 스킬

| 스킬 | 효과 | 쿨다운 |
|------|------|--------|
| 회전베기 | 주변 360도 공격 | 5초 |
| 대쉬 | 순간 이동 + 무적 | 8초 |
| 힐링 | HP 30% 회복 | 15초 |
| 파이어볼 | 원거리 범위 공격 | 6초 |

### 7.2 패시브 스킬

| 스킬 | 효과 |
|------|------|
| 흡혈 | 데미지의 5% HP 회복 |
| 가시 | 접촉 시 반사 데미지 |
| 경험치 부스트 | EXP 획득량 +20% |
| 행운 | 아이템 드랍률 +15% |

---

## 8. 로비 시스템 (메타 진행)

### 8.1 코인 상점

**능력치 강화** (런 시작 시 적용)
| 강화 | 비용 | 효과 |
|------|------|------|
| HP 강화 Lv1~10 | 100~1000 | HP +10 per Lv |
| ATK 강화 Lv1~10 | 100~1000 | ATK +2 per Lv |
| DEF 강화 Lv1~10 | 100~1000 | DEF +1 per Lv |

**아이템 구매**
| 아이템 | 비용 | 효과 |
|--------|------|------|
| 시작 무기 | 500 | 런 시작 시 무기 보유 |
| 시작 방어구 | 500 | 런 시작 시 방어구 보유 |
| 부활의 돌 | 1000 | 1회 사망 시 부활 |

### 8.2 영구 스탯 (포인트)

| 스탯 | 포인트/Lv | 효과 |
|------|-----------|------|
| 기본 HP | 1 | +5 영구 |
| 기본 ATK | 1 | +1 영구 |
| 기본 DEF | 1 | +0.5 영구 |
| EXP 부스트 | 2 | +5% 영구 |
| 코인 부스트 | 2 | +5% 영구 |

---

## 9. UI/UX 설계

### 9.1 로비 화면
```
┌─────────────────────────────────────────┐
│  💰 1,234 코인     ⭐ Lv.15 (1,200/2,000) │
├─────────────────────────────────────────┤
│                                          │
│    [🗡️ 능력치 강화]    [🛒 아이템 상점]   │
│                                          │
│    [⬆️ 아이템 강화]    [📊 영구 스탯]     │
│                                          │
│                                          │
│           [ ▶️ 게임 시작 ]               │
│                                          │
└─────────────────────────────────────────┘
```

### 9.2 인게임 HUD
```
┌─────────────────────────────────────────┐
│ ❤️ 100/100   ⚔️ ATK: 15   🛡️ DEF: 5     │
│ Day 5        ⏱️ 0:45      Lv.8 ████░░   │
├─────────────────────────────────────────┤
│                                          │
│              [게임 화면]                 │
│                                          │
├─────────────────────────────────────────┤
│ [Q] 회전베기 ⏳3s  [E] 대쉬 Ready       │
└─────────────────────────────────────────┘
```

### 9.3 레벨업 선택 화면
```
┌─────────────────────────────────────────┐
│            🎉 LEVEL UP! 🎉              │
├─────────────────────────────────────────┤
│                                          │
│  ┌─────┐  ┌─────┐  ┌─────┐  ┌─────┐   │
│  │ ⚔️  │  │ 🗡️  │  │ ⬆️  │  │ ✨  │   │
│  │ATK  │  │ 검  │  │검+1 │  │회전 │   │
│  │ +5  │  │획득 │  │등급 │  │베기 │   │
│  └─────┘  └─────┘  └─────┘  └─────┘   │
│                                          │
└─────────────────────────────────────────┘
```

---

## 10. 기술 구현 고려사항

### 10.1 기술 스택 제안
- **렌더링**: Three.js + 복셀 라이브러리 (예: voxel.js, MagicaVoxel 모델)
- **게임 로직**: JavaScript/TypeScript
- **상태 관리**: Zustand 또는 Redux
- **저장**: LocalStorage (오프라인) 또는 서버 연동

### 10.2 최적화 포인트
- 복셀 렌더링: Instanced Mesh 사용
- 시야 시스템: Shader 기반 Fog of War
- 몬스터 AI: 간단한 추적 알고리즘 (A* 불필요)
- 오브젝트 풀링: 몬스터, 이펙트 재사용

### 10.3 데이터 구조

```javascript
// 플레이어 데이터
const playerData = {
  // 메타 (영구)
  account: {
    level: 1,
    exp: 0,
    coins: 0,
    permanentStats: { hp: 0, atk: 0, def: 0 },
    purchases: [],
    upgrades: {}
  },
  
  // 런 데이터 (임시)
  run: {
    day: 1,
    timer: 60,
    level: 1,
    exp: 0,
    stats: { hp: 100, maxHp: 100, atk: 10, def: 0, spd: 1.0 },
    items: [],
    skills: []
  }
};
```

---

## 11. 확장 가능 요소 (추후)

- [ ] 다양한 맵 테마 (숲, 사막, 던전, 설원)
- [ ] 캐릭터 선택 시스템
- [ ] 도전 과제 & 업적
- [ ] 일일 챌린지
- [ ] 리더보드
- [ ] 멀티플레이어 (협동/경쟁)

---

## 12. 개발 우선순위

### Phase 1: MVP (핵심 게임플레이)
1. 기본 복셀 맵 렌더링
2. 플레이어 이동 & 기본 공격
3. Day 시스템 (타이머)
4. 몬스터 스폰 & AI
5. 체력 시스템 & 게임오버

### Phase 2: 성장 시스템
1. 인게임 레벨업 & 선택지
2. 아이템 시스템
3. 스킬 시스템
4. 아티팩트 상호작용

### Phase 3: 메타 진행
1. 코인 & 상점 시스템
2. 계정 레벨 & 영구 강화
3. 세이브/로드

### Phase 4: 폴리싱
1. UI/UX 개선
2. 사운드 & 이펙트
3. 밸런싱
4. 추가 콘텐츠

---

*문서 버전: 1.0*
*최종 수정: 2025년*
